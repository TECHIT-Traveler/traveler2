<html layout:decorate="~{layout}">
<div layout:fragment="content">
    <script>
        function submitLoginForm(form) {
            form.email.value = form.email.value.trim();

            form.username.value = form.username.value.trim();

            if (form.username.value.length == 0) {
                toastWarning('사용자 아이디를 입력해주세요.');
                form.username.focus();
                return;
            }

            form.password.value = form.password.value.trim();

            if (form.password.value.length == 0) {
                toastWarning('비밀번호를 입력해주세요.');
                form.password.focus();
                return;
            }

            form.submit();
        }

        function redirectToMain() {
            window.location.href = '/home/main';
        }
    </script>
    <form action="/member/login" method="POST" onsubmit="submitLoginForm(this); return false;"
          class="flex flex-col gap-6">
        <div class="container mt-5">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-md-6">
                    <h3 class="mb-4">
                        <i class="fa-solid fa-arrow-right-to-bracket"></i>
                        로그인
                    </h3>

<!--                    <form th:action method="POST" onsubmit="submitLoginForm(this); return false;"-->
<!--                          class="flex flex-col gap-6">-->
                        <div class="form-group">
                            <label for="username">아이디</label>
                            <input type="text" class="form-control" id="username" name="username"
                                   placeholder="아이디를 입력해주세요">
                        </div>

                        <div class="form-group">
                            <label for="password">비밀번호</label>
                            <input type="password" class="form-control" id="password" name="password"
                                   placeholder="비밀번호를 입력해주세요"/>
                        </div>


                        <button type="submit" class="btn btn-primary btn-block">
                            <i class="fa-solid fa-arrow-right-to-bracket"></i>
                            <span>로그인</span>
                        </button>
                        <a href="/oauth2/authorization/kakao" class="btn btn-outline-warning btn-block"
                           onclick="redirectToMain()">
                            <i class="fa-solid fa-comment"></i>
                            <span>카카오 로그인</span>
                        </a>

                        <a href="/oauth2/authorization/naver" class="btn btn-outline-success btn-block"
                           onclick="redirectToMain()">
                            <i class="fa-solid fa-n"></i>
                            <span>네이버 로그인</span>
                        </a>

                        <a href="/oauth2/authorization/google" class="btn btn-outline-dark btn-block"
                           onclick="redirectToMain()">
                            <i class="fa-brands fa-google"></i>
                            <span>구글 로그인</span>
                        </a>
<!--                    </form>-->
                </div>
            </div>
        </div>
    </form>
</div>
</html>
